@using Microsoft.Extensions.Options
@using MyApprovalsHub.Common
@using MyApprovalsHub.ViewModel
@inject NavigationManager NavigationManager
@inject IOptionsMonitor<ApprovalsHubOptions> ApprovalsHubConfig;

<h5>External Sources</h5>


<div>
       
    <FluentTabs Orientation="Orientation.Vertical" style="width:80%">

        <FluentTab>Service Now</FluentTab>
        <FluentTab>SAP Concur</FluentTab>
        <FluentTab>Oracle People Soft</FluentTab>
        <FluentTab>UKG</FluentTab>

    <FluentTabPanel style="margin-left:50px; margin-top:10px">

        <p><FluentCheckbox Checked="true">Use Service Now</FluentCheckbox></p>

        <p>
                <FluentTextField style="min-width:400px" @ref=txtBaseUrl Value=@ApprovalsHubConfig.CurrentValue.ServiceNowBaseUrl>
                Base URL
                <FluentIcon Name="@FluentIcons.Globe" Slot="start" Size="@IconSize.Size16" Filled=false UseAccentColor=false />
        </FluentTextField></p>

        <p>
                <FluentTextField style="min-width:400px" Value=@ApprovalsHubConfig.CurrentValue.ServiceNowUsername>
                Username
                <FluentIcon Name="@FluentIcons.Person" Slot="start" Size="@IconSize.Size16" Filled=false UseAccentColor=false />
            </FluentTextField>
        </p>

        <p>
                <FluentTextField style="min-width:400px" TextFieldType="TextFieldType.Password" Value=@ApprovalsHubConfig.CurrentValue.ServiceNowPassword>
                Password
                <FluentIcon Name="@FluentIcons.Key" Slot="start" Size="@IconSize.Size16" Filled=false UseAccentColor=false />
            </FluentTextField>
        </p>

        <p>
                <FluentTextField style="min-width:400px" Value=@ApprovalsHubConfig.CurrentValue.ServiceNowClientId>
                ClientId
                <FluentIcon Name="@FluentIcons.Key" Slot="start" Size="@IconSize.Size16" Filled=false UseAccentColor=false />
            </FluentTextField>
        </p>

        <p>
                <FluentTextField style="min-width:400px" Value=@ApprovalsHubConfig.CurrentValue.ServiceNowClientSecret TextFieldType="TextFieldType.Password">
                Secret
                <FluentIcon Name="@FluentIcons.Key" Slot="start" Size="@IconSize.Size16" Filled=false UseAccentColor=false />
            </FluentTextField>
        </p>

    </FluentTabPanel>

    <FluentTabPanel style="margin-left:50px; margin-top:10px">
            
            <p><FluentCheckbox Checked="false" Disabled=true>Use SAP Concur </FluentCheckbox></p>

            <p>SAP Concur is not implemented yet.</p>

    </FluentTabPanel>

        <FluentTabPanel style="margin-left:50px; margin-top:10px">
            <p><FluentCheckbox Checked="false" Disabled=true>Use Oracle People Soft </FluentCheckbox></p>

            <p>Oracle People Soft is not implemented yet.</p>
        </FluentTabPanel>

        <FluentTabPanel style="margin-left:50px; margin-top:10px">
             <p><FluentCheckbox Checked="false" Disabled=true>Use UKG </FluentCheckbox></p>

            <p>UKG is not implemented yet.</p>
        </FluentTabPanel>

    </FluentTabs>
</div>


<p style="margin-top:50px">
<FluentButton @onclick=@(()=>SaveSettings()) Appearance="Appearance.Accent">
        Save
    <FluentIcon Name="@FluentIcons.Save" Slot="start" Size="@IconSize.Size16" Filled=false UseAccentColor="false" />
        </FluentButton>

<FluentButton @onclick=@(()=>Close()) Appearance="Appearance.Outline">
    Cancel
    <FluentIcon Name="@FluentIcons.Dismiss" Slot="start" Size="@IconSize.Size16" Filled=false UseAccentColor="true" />
</FluentButton>
</p>
    
    


@code {
    

    private FluentTextField txtBaseUrl;

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);

        
    }

    private void Close()
    {
        NavigationManager.NavigateTo("/tab", true);
    }

    private void SaveSettings()
    {
        
    }
    
}